<%= form_with(model: post, id: "#{dom_id(post)}_form", data: {controller: 'new-post'}) do |form| %>
  <div data-new-post-modal-target="newPostModal" class="relative z-10 hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
    <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div>

    <div class="fixed z-10 inset-0 overflow-y-auto">
      <div class="flex items-end sm:items-center justify-center min-h-full p-4 text-center sm:p-0">
        <div class="relative bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:max-w-lg sm:w-full">
          <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
              <%= form.text_field :title,
                      class: 'w-full bg-gray-100 border border-gray-300 p-2 outline-none',
                      placeholder: 'Title',
                      data: { new_post_target: 'title', action: 'keyup->new-post#updateCount' },
                      maxLength: Post::TITLE_MAX_CHARS
              %>
              <div class="icons flex m-2">
                <div data-new-post-target="titleCount" class="ml-auto text-gray-400 text-xs font-semibold">
                  0/<%= Post::TITLE_MAX_CHARS %>
                </div>
              </div>

              <%= form.text_area :body,
                      class: 'w-full bg-gray-100 sec p-3 h-60 border border-gray-300 outline-none',
                      placeholder: 'Describe the post here..',
                      data: { new_post_target: 'body', action: 'keyup->new-post#updateCount' },
                      maxLength: Post::BODY_MAX_CHARS
              %>
              <div class="icons flex text-gray-500 m-2">
                <div data-new-post-target="bodyCount" class="ml-auto text-gray-400 text-xs font-semibold">
                  0/<%= Post::BODY_MAX_CHARS %>
                </div>
              </div>

              <div class="buttons flex">
                <button
                    class="w-full text-center py-3 rounded bg-indigo-600 text-white hover:bg-green-dark focus:outline-none disabled:bg-slate-50 disabled:text-slate-500"
                    data-action="click->new-post-modal#clickOutside"
                >
                  Cancel
                </button>

                <%= form.submit "Create Post",
                    class: "w-full text-center py-3 rounded bg-indigo-600 text-white hover:bg-green-dark focus:outline-none disabled:bg-slate-50 disabled:text-slate-500"
                %>
              </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>
